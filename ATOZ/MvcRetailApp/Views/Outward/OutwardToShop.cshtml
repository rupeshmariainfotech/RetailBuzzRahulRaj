@model CodeFirstEntities.MainApplication

@{
    ViewBag.Title = "OutwardToShop";
}

<meta charset="utf-8" />
<title>Retail Managment Software</title>
<meta name="keywords" content="Retail Software" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<!-- Font CSS  -->
<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Open+Sans:400,600,700" />
<link href="~/Content/style.default.css" rel="stylesheet" />
<link href="~/Content/style.default.blue.css" rel="stylesheet" />
<!-- Core CSS  -->
<link rel="stylesheet" type="text/css" href="~/Content/bootstrap.css" />
<link rel="stylesheet" type="text/css" href="~/Content/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="~/Content/sb-admin-2.css" />
<link rel="stylesheet" type="text/css" href="~/Content/metisMenu.min.css" />
<link rel="stylesheet" type="text/css" href="~/Content/font-awesome.css" />
<link rel="stylesheet" type="text/css" href="~/fonts/glyphicons.min.css" />

<!-- Plugin CSS -->
<link rel="stylesheet" type="text/css" href="~/Content/fullcalendar.css" />
<link rel="stylesheet" type="text/css" href="~/Content/datatables.min.css" />
@*<link rel="stylesheet" type="text/css" href="~/Content/animate.css" />*@

<!-- Theme CSS -->
<link rel="stylesheet" type="text/css" href="~/Content/theme.css" />
<link rel="stylesheet" type="text/css" href="~/Content/pages.css" />
<link rel="stylesheet" type="text/css" href="~/Content/plugins.css" />
<link rel="stylesheet" type="text/css" href="~/Content/responsive.css" />

<!-- Demonstration CSS -->
<link rel="stylesheet" type="text/css" href="~/Content/demo.css" />

<!-- Your Custom CSS -->
<link rel="stylesheet" type="text/css" href="~/Content/custom.css" />

<!-- Favicon -->
<link rel="shortcut icon" href="~/Images/favicon.ico" />

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<script src="@Url.Content("~/Scripts/jquery-1.9.1.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery-1.9.1.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery-ui-1.8.24.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery-ui-1.8.24.min.js")" type="text/javascript"></script>

<!-- Plugins - Via CDN -->
<script type="text/javascript" src="~/Scripts/jquery.flot.min.js"></script>
<script type="text/javascript" src="~/Scripts/jquery.sparkline.min.js"></script>
<script type="text/javascript" src="~/Scripts/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="~/Scripts/fullcalendar.min.js"></script>
<script type="text/javascript" src="~/Scripts/bootstrap.js"></script>

<link href="@Url.Content("~/Content/themes/base/jsDatePick_ltr.css")" rel="stylesheet" />
<link href="@Url.Content("~/Content/themes/base/jsDatePick_ltr.min.css")" rel="stylesheet" />
<script src="@Url.Content("~/Scripts/jsDatePick.jquery.min.1.3.js")"></script>
<script src="@Url.Content("~/Scripts/jsDatePick.min.1.3.js")"></script>

<script type="text/javascript" src="~/Scripts/jquery.scrollTo-1.4.3.1-min.js"></script>

<!-- Theme Javascript -->
<script type="text/javascript" src="~/Scripts/uniform.min.js"></script>
<script type="text/javascript" src="~/Scripts/main.js"></script>
<script type="text/javascript" src="~/Scripts/custom.js"></script>
<script type="text/javascript" src="~/Scripts/sb-admin-2.js"></script>
<script type="text/javascript" src="~/vendor/plugins/metisMenu/metisMenu.min.js"></script>

<link href="~/Content/customAlerts.css" rel="stylesheet" />
<script src="~/Scripts/bootbox.js"></script>

<script type="text/javascript">
    function alertbox(message) {
        var sample = document.getElementById("audio");
        sample.src = '../../Audio/tone1.ogg';

        sample.load();
        sample.muted = false;
        sample.play();

        bootbox.classes('alertClass');
        bootbox.alert('<i class="fa fa-2x fa-warning"></i><br>' + message + '<hr>');
    }

    function confirmbox(message, obj) {
        var sample = document.getElementById("audio");
        sample.src = '../../Audio/tone2.ogg';
        sample.load();
        sample.muted = false;
        sample.play();

        bootbox.classes('confirmClass');
        bootbox.confirm('<i class="fa fa-2x fa-question-circle"></i><br>' + message + '<hr>',
		 function (result) {
		     if (result) {
		         $(obj).parents("tr").remove();
		     }
		 });
    }
</script>

<script type="text/javascript">
    jQuery(document).ready(function () {

        // Init Theme Core 	  
        Core.init();

        $("select").keypress(function (evt) {
            if (evt.keyCode == 13) {
                iname = $(this).val();
                if (iname !== 'Submit') {
                    var fields =
$(this).parents('form:eq(0),body').find();
                    var index = fields.index(this);
                    if (index > -1 && (index + 1) < fields.length) {
                        fields.eq(index + 1).focus();
                    }
                    return false;
                }
            }
        });
        $("#Delete").click(function () {
            window.location.assign("/Outward/OutwardToShopDelete");
        });

        $("#Print").click(function () {
            window.location.assign("/Outward/OutwardToShopPrint");
        });
    });
</script>


@*ENABLED DYNAMIC ROWS*@
<script type="text/javascript">
    jQuery(document).ready(function () {
        $("#Submit").click(function () {
            var count = document.getElementById("hdnRowCount").value;
            var lastitem = "ItemCode" + count;
            var lastquantity = "OutwardQuantity" + count;

            if (document.getElementById(lastitem) != null) {
                //VALIDATIONS ON IF LAST ROW DATA IS EMPTY AND CLICK ON SAVE BUTTON..
                if ($("#" + lastitem).val() == "") {
                    alertbox("Please Select The Item");
                    return false;
                }
                else if ($("#" + lastquantity).val() == "")
                {
                    alertbox("Please Fill The Quantity");
                    return false;
                }

                    // IF ALL DATA IS FILLED PROPERLY THEN SAVE ROWS..
                else {
                    for (var i = 1; i <= count; i++) {
                        var item = "ItemCode" + i;
                        var outquantity = "OutwardQuantity" + i;
                        if (document.getElementById(item) != null) {
                            document.getElementById(item).disabled = false;
                            document.getElementById(outquantity).disabled = false;
                        }
                    }
                }
            }
                // IF LAST ROW IS DELETED THEN SAVE ROWS AS IT IS..
            else {
                for (var i = 1; i <= count; i++) {
                    var item = "ItemCode" + i;
                    var outquantity = "OutwardQuantity" + i;
                    if (document.getElementById(item) != null) {
                        document.getElementById(item).disabled = false;
                        document.getElementById(outquantity).disabled = false;
                    }
                }
            }
            document.getElementById("ddlgodownnames").disabled = false;
            document.getElementById("ddlgodownaddresses").disabled = false;
        });
    });
</script>


@*SALESMAN NAME AUTO COMPLETE*@
<script type="text/javascript">
    $(function () {

        document.getElementById("OutwardToShopDetails_GatePass").value = Math.floor(Math.random() * (1001));

        var refno = $("#OutwardToShopDetails_GatePass").val();
        $.getJSON('/Outward/CheckReferenceNo', { refno: refno }, function (data) {
            if (data == "true") {
                document.getElementById("OutwardToShopDetails_GatePass").value = Math.floor(Math.random() * (1001));
            }
        });

        var temp = $("#date").text();
        var dat = new Date(temp);
        var month = ["JAN", "FEB", "MAR", "APR", "MAY", "JUN", "JUL", "AUG", "SEP", "OCT", "NOV", "DEC"];
        var data = dat.getDate() + "/" + month[dat.getMonth()] + "/" + dat.getFullYear();
        document.getElementById('date').innerHTML = data;

        $("#SalesmanName").autocomplete({
            source: "/Outward/GetSalesman",
            minLength: 1,
            select: function (event, ui) {
                if (ui.item) {
                    $("#SalesmanName").val(ui.item.value);

                    var employeename = document.getElementById("SalesmanName").value;
                    $.getJSON("/Outward/GetEmployeeDetails", { name: employeename },
                   function (data) {

                       document.getElementById("SalesmanDesignation").innerHTML = data.Designation;
                       document.getElementById("SalesmanEmail").innerHTML = data.Email;
                       document.getElementById("SalesmanMobileNo").innerHTML = data.MobileNo;
                       $("#OutwardToShopDetails_SalesmanDesignation").val(data.Designation);
                       $("#OutwardToShopDetails_SalesmanEmail").val(data.Email);
                       $("#OutwardToShopDetails_SalesmanContactNo").val(data.MobileNo);
                       document.getElementById("salesmandetailsdiv").style.display = "inline";
                   });
                }
            }
        });
    });
</script>

<script type="text/javascript">
    $(document).ready(function () {

        $("#EmpName").autocomplete({
            source: "/Outward/GetEmployee",
            minLength: 1,
            select: function (event, ui) {
                if (ui.item) {
                    $("#EmpName").val(ui.item.value);

                    var employeename = document.getElementById("EmpName").value;
                    $.getJSON("/Outward/GetEmployeeDetails", { name: employeename },
                   function (data) {

                       document.getElementById("Designation").innerHTML = data.Designation;
                       document.getElementById("Email").innerHTML = data.Email;
                       document.getElementById("MobileNo").innerHTML = data.MobileNo;
                       $("#OutwardToShopDetails_EmpDesignation").val(data.Designation);
                       $("#OutwardToShopDetails_EmpEmail").val(data.Email);
                       $("#OutwardToShopDetails_EmpContactNo").val(data.MobileNo);
                   });
                }
            }
        });


        var email = $("#preparedby").val();
        $.getJSON("/Inward/GetEmployeeDetails", { Email: email }, function (data) {

            document.getElementById("name").innerHTML = data.Name;
            document.getElementById("designation").innerHTML = data.Designation;
            document.getElementById("emailid").innerHTML = email;
            $("#OutwardToShopDetails_PrepaidBy").val(data.Name);
            $("#OutwardToShopDetails_EmpDesignation").val(data.Designation);
            $("#OutwardToShopDetails_EmpEmail").val(email);
        });
    });
</script>





<script type="text/javascript">
    $(function () {
        //GET ITEMS LIST FROM STOCK DISTRIBUTION
        var data = document.getElementById("godowncode").value;

        $.getJSON("/Outward/GetItemListFromStockDistribution", { godowncode: data },
        function (data) {

            var select = $("#ItemCode1");
            select.empty();
            select.append($('<option/>', {
                text: "Select Item",
                value: "",
            }));
            $.each(data, function (index, itemdata) {
                select.append($('<option/>', {
                    text: itemdata.Text + " " + itemdata.Value,
                    value: itemdata.Value,
                }));
            });
        });

        //GET ITEM DETAILS ON ITEM NAME DDL
        $("#ItemCode1").change(function () {
            document.getElementById("OutwardQuantity1").disabled = false;
            var itemcode = $(this).val();
            var godowncode = document.getElementById("godowncode").value;
            $.getJSON("/Outward/GetStockDistributionItemdetails", { ItemCode: itemcode, GodownCode: godowncode },
                    function (data) {

                        document.getElementById("Description1").innerHTML = data.ItemDescription;
                        document.getElementById("StockQuantity1").innerHTML = data.Quantity;
                        document.getElementById("Design1").innerHTML = data.DesignName;
                        document.getElementById("Unit1").innerHTML = data.Unit;
                        document.getElementById("Color1").innerHTML = data.Color;
                        $("#DescriptionValue1").val(data.ItemDescription);
                        $("#StockQuantityValue1").val(data.Quantity);
                        $("#DesignValue1").val(data.DesignName);
                        $("#DesignCode1").val(data.DesignCode);
                        $("#UnitValue1").val(data.Unit);
                        $("#ColorValue1").val(data.Color);
                        $("#ItemName1").val(data.ItemName);
                        $("#ItemCode1").val(data.ItemCode);
                        $("#Brand1").val(data.Brand);
                        $("#Barcode1").val(data.barcode);
                        $("#Size1").val(data.Size);
                        $("#NumberType1").val(data.NumberType);
                        $("#Material1").val(data.Material);
                        $("#Rate1").val(data.SellingPrice);
                        $("#MRP1").val(data.MRP);
                    });
        });
    });

</script>

@*CALCULATE BALANCE*@
<script type="text/javascript">
    function CalculateBalance() {
        var stkquan = (+document.getElementById("StockQuantity1").innerHTML);
        var outquan = (+document.getElementById("OutwardQuantity1").value);

        // validation on outward quantity > stock quantity
        if (outquan > stkquan) {
            alertbox("Cannot exceed above Stock Quantity");
            document.getElementById("OutwardQuantity1").value = document.getElementById("StockQuantity1").innerHTML;
        }

        var balance = (document.getElementById("StockQuantity1").innerHTML) - (document.getElementById("OutwardQuantity1").value);
        document.getElementById("balance1").innerHTML = balance;
        document.getElementById("BalanceValue1").value = balance;
    }

    function AllowNumbers(key) {
        var keycode = (key.which) ? key.which : key.keyCode;
        if (!(keycode == 8 || keycode == 46) && (keycode < 48 || keycode > 57)) {
            return false;
        }
    }

    function CalculateDynamicBalance(count) {
        var stockquantity = "StockQuantity" + count;
        var outwardquantity = "OutwardQuantity" + count;
        var balance = "balance" + count;
        var balval = "BalanceValue" + count;

        // validation on outward quantity > stock quantity
        var stkquan = (+document.getElementById(stockquantity).innerHTML);
        var outquan = (+document.getElementById(outwardquantity).value);
        if (outquan > stkquan) {
            alertbox("Cannot exceed above Stock Quantity");
            document.getElementById(outwardquantity).value = document.getElementById(stockquantity).innerHTML;
        }

        var dynamicbalance = (+document.getElementById(stockquantity).innerHTML) - (+document.getElementById(outwardquantity).value);
        document.getElementById(balance).innerHTML = dynamicbalance;
        document.getElementById(balval).value = dynamicbalance;
    }
</script>

@*DELETE ROW*@
<script type="text/javascript">
    function DeleteRow(id) {
        var row = "row" + id;
        var agree = confirm("Are you sure you wish to delete this row?");
        if (agree) {
            $("#" + row).remove();
        }
    }
</script>

@*CREATE DYNAMIC ROWS ON ENTER BUTTON CLICK*@
<script type="text/javascript">
    $(document).keypress(function (e) {
        if (e.which == 13) {

            var rowid = document.getElementById("hdnRowCount").value;

            //VALIDATIONS ON QUANTITY OR ITEM IS EMPTY
            var preitem = "ItemCode" + rowid;
            var outquantity = "OutwardQuantity" + rowid;
            var items = $("#" + preitem).val();
            var quantity = $("#" + outquantity).val();

            if (items == "") {
                alertbox("Please Select The Item");
                return false;
            }
            else if (quantity == "")
            {
                alertbox("Please Enter The Quantity");
                return false;
            }

            else {
                //DISABLED THE PREVIOUS ROW
                if (document.getElementById(preitem) != null) {
                    document.getElementById(preitem).disabled = true;
                    document.getElementById(outquantity).disabled = true;
                }

                rowid = +rowid + 1;
                var item = "ItemCode" + rowid;
                description = "Description" + rowid;
                design = "Design" + rowid;
                unit = "Unit" + rowid;
                color = "Color" + rowid;
                stockquantity = "StockQuantity" + rowid;
                outwardquantity = "OutwardQuantity" + rowid;
                balance = "balance" + rowid;
                descriptionvalue = "DescriptionValue" + rowid;
                designvalue = "DesignValue" + rowid;
                designcode = "DesignCode" + rowid;
                unitvalue = "UnitValue" + rowid;
                colorvalue = "ColorValue" + rowid;
                stockquantityvalue = "StockQuantityValue" + rowid;
                balancevalue = "BalanceValue" + rowid;
                itemName = "ItemName" + rowid;
                material = "Material" + rowid;
                rate = "Rate" + rowid;
                mrp = "MRP" + rowid;
                size = "Size" + rowid;
                numbertype = "NumberType" + rowid;
                brand = "Brand" + rowid;

                var unorderlist = $("#DynamicRows");

                //GET ITEMS LIST FROM STOCK DISTRIBUTION
                var data = document.getElementById("godowncode").value;
                $.getJSON("/Outward/GetItemListFromStockDistribution", { godowncode: data },
                function (data) {
                    var select = $("#" + item);
                    select.empty();
                    select.append($('<option/>', {
                        text: "Select Item",
                        value: "",
                    }));
                    $.each(data, function (index, itemdata) {
                        select.append($('<option/>', {
                            text: itemdata.Text + " " + itemdata.Value,
                            value: itemdata.Value,
                        }));
                    });
                });

                unorderlist.append(
                    "<tr id='row" + rowid + "'>" +
                    "<td style='text-align:center'>" + rowid + "</td>" +
                    "<td style='text-align:center'><select id='" + item + "' name='" + item + "' class='form-control'><option>Select Item</option></select><input type='hidden' id='" + itemName + "' name='" + itemName + "' /></td>" +
                    "<td style='text-align:center'><label id='" + description + "' name='" + description + "' style='font-weight:normal'></label><input type='hidden' id='" + descriptionvalue + "' name='" + descriptionvalue + "'/></td>" +
                    "<td style='text-align:center'><label id='" + design + "' name='" + design + "' style='font-weight:normal'></label><input type='hidden' id='" + designvalue + "' name='" + designvalue + "'/><input type='hidden' id='" + designcode + "' name='" + designcode + "'/></td>" +
                    "<td style='text-align:center'><label id='" + unit + "' name='" + unit + "' style='font-weight:normal'></label><input type='hidden' id='" + unitvalue + "' name='" + unitvalue + "'/></td>" +
                    "<td style='text-align:center'><label id='" + color + "' name='" + color + "' style='font-weight:normal'></label><input type='hidden' id='" + colorvalue + "' name='" + colorvalue + "'/></td>" +
                    "<td style='text-align:center'><label  id='" + stockquantity + "' name='" + stockquantity + "' style='font-weight:normal'></label><input type='hidden' id='" + stockquantityvalue + "' name='" + stockquantityvalue + "'/></td>" +
                    "<td><input type='text' class='form-control' name='" + outwardquantity + "' id='" + outwardquantity + "' autocomplete='off' onchange='CalculateDynamicBalance(" + rowid + ")' style='text-align:center' disabled='disabled' placeholder='Qty' /></td>" +
                    "<td style='text-align:center'><label id='" + balance + "' name='" + balance + "' style='font-weight:normal'></label><input type='hidden' id='" + balancevalue + "' name='" + balancevalue + "'/><input type='hidden' id='Barcode" + rowid + "' name='Barcode" + rowid + "'/><input type='hidden' id='" + material + "' name='" + material + "'/><input type='hidden' id='" + rate + "' name='" + rate + "'/><input type='hidden' id='" + mrp + "' name='" + mrp + "'/><input type='hidden' id='" + size + "' name='" + size + "'/><input type='hidden' id='" + numbertype + "' name='" + numbertype + "'/><input type='hidden' id='" + brand + "' name='" + brand + "'/></td>" +
                    "<td><div style='height:2px'></div><a href='#' onclick='DeleteRow(" + rowid + ")' class='fa fa-trash fa-lg' style='color:red;' /></td></tr>"
            );

                //GET DETAILS FROM ITEMNAME
                $("#" + item).change(function () {
                    $("#" + outwardquantity).attr("disabled", false);
                    var godowncode = document.getElementById("godowncode").value;
                    var itemcode = document.getElementById(item).value;

                    //CHECK IF SAME ITEM IS ALREADY SELECTED THEN ENABLES PREVIOUS ROW
                    var rowcount = document.getElementById("hdnRowCount").value;
                    var counter = 0;
                    for (i = 1; i < rowcount; i++) {
                        var ITEM = "ItemCode" + i;
                        var QUANTITY = "OutwardQuantity" + i;
                        //IF ROW IS DELETED THEN CURRENT ITEM WON'T GET COMPARED
                        if (document.getElementById(ITEM) != null) {
                            if ($("#" + ITEM).val() == itemcode) {
                                alertbox("The Item Is Already Selected Please Change The Quantity..");
                                $("#ItemCode" + rowid).val("").attr("selected", true);
                                document.getElementById(QUANTITY).disabled = false;
                                counter = i;
                                break;
                            }
                        }
                    }

                    //IF COUNTER IS 0 THAT MEANS CURRENT ITEM IS NOT SELECED IN PREVIOUS ROWS
                    if (counter == 0) {
                        //IF PREVIOUS ROW IS ENABLED FOR CHANGE THE QUANTITY BUT WE SELECT AGAIN DDL THEN DISABLED THIS ENABLES QUANTITY
                        for (i = 1; i < rowcount; i++) {
                            var QUANTITY = "OutwardQuantity" + i;
                            //IF ROW IS DELETED THEN QUANTITY WON'T GET ENABLED
                            if (document.getElementById(QUANTITY) != null) {
                                document.getElementById(QUANTITY).disabled = true;
                            }
                        }
                        $.getJSON("/Outward/GetStockDistributionItemdetails", { ItemCode: itemcode, GodownCode: godowncode },
                                function (data) {
                                    $("#" + description).text(data.ItemDescription);
                                    $("#" + stockquantity).text(data.Quantity);
                                    $("#" + design).text(data.DesignName);
                                    $("#" + unit).text(data.Unit);
                                    $("#" + color).text(data.Color);
                                    $("#" + descriptionvalue).val(data.ItemDescription);
                                    $("#" + stockquantityvalue).val(data.Quantity);
                                    $("#" + designvalue).val(data.DesignName);
                                    $("#" + designcode).val(data.DesignCode);
                                    $("#" + unitvalue).val(data.Unit);
                                    $("#" + colorvalue).val(data.Color);
                                    $("#" + itemName).val(data.ItemName);
                                    $("#" + material).val(data.Material);
                                    $("#" + rate).val(data.SellingPrice);
                                    $("#" + mrp).val(data.MRP);
                                    $("#" + size).val(data.Size);
                                    $("#" + brand).val(data.Brand);
                                    $("#" + numbertype).val(data.NumberType);
                                    $("#Barcode" + rowid).val(data.barcode);
                                });
                    }
                });
                $("#hdnRowCount").val(rowid);
            }
        }
    })
</script>

@*GET SHOP DETAILS BY SHOP NAME*@
<script type="text/javascript">
    $(function () {
        $("#ShopCodeid").change(function () {
            var shopname = $(this).val();
            $.getJSON("/Outward/GetShopDetails", { code: shopname },
            function (data) {
                document.getElementById("shopdetailsdiv").style.display = 'inline';
                document.getElementById("shopadd").innerHTML = data.ShopAddress;
                document.getElementById("shopemail").innerHTML = data.ShopEmail;
                document.getElementById("shopcontact").innerHTML = data.ShopContactNo;
                document.getElementById("OutwardToShopDetails_ShopCode").value = data.ShopCode;
                document.getElementById("OutwardToShopDetails_ShopAddress").value = data.ShopAddress;
                document.getElementById("OutwardToShopDetails_ShopEmail").value = data.ShopEmail;
                document.getElementById("OutwardToShopDetails_ShopContactNo").value = data.ShopContactNo;
                document.getElementById("OutwardToShopDetails_ShopName").value = data.ShopName;
            });
        });
    });
</script>

<!-- Start: Header -->
@Html.Partial("../Shared/Header")

<!-- End: Header -->
<!-- Start: Main -->
<section>
    <div class="mainwrapper">
        <!-- End: Sidebar -->
        @Html.Partial("../Shared/LeftMenu")

        <!-- Start: Content -->

        <div class="mainpanel">
            <div class="col-lg-12 col-md-12">

                <br />
                <h2>Outward To Shop</h2>

                @using (Html.BeginForm("OutwardToShop", "Outward", FormMethod.Post))
                {
                    <input type="hidden" id="hdnRowCount" name="hdnRowCount" value="1" /> 
                    @Html.HiddenFor(model => model.OutwardToShopDetails.OutwardCode)
                    @Html.HiddenFor(model => model.OutwardToShopDetails.EmpDesignation)
                    @Html.HiddenFor(model => model.OutwardToShopDetails.EmpEmail)
                    @Html.HiddenFor(model => model.OutwardToShopDetails.EmpContactNo)
                    @Html.HiddenFor(model => model.OutwardToShopDetails.SalesmanDesignation)
                    @Html.HiddenFor(model => model.OutwardToShopDetails.SalesmanEmail)
                    @Html.HiddenFor(model => model.OutwardToShopDetails.SalesmanContactNo)
                    @Html.HiddenFor(model => model.OutwardToShopDetails.GodownName)
                    @Html.HiddenFor(model => model.OutwardToShopDetails.ShopCode)
                    @Html.HiddenFor(model => model.OutwardToShopDetails.ShopName)
                    @Html.HiddenFor(model => model.OutwardToShopDetails.ShopAddress)
                    @Html.HiddenFor(model => model.OutwardToShopDetails.ShopEmail)
                    @Html.HiddenFor(model => model.OutwardToShopDetails.ShopContactNo)
                    @Html.HiddenFor(model => model.OutwardToShopDetails.PrepaidBy)
                    
                    <input type="hidden" id="preparedby" value="@HttpContext.Current.Session["UserEmail"]"/>
                    
                    <audio id="audio" muted="true" preload="auto" style="display: none" controls="controls" autoplay="false">
                        <source src="" type="audio/ogg" />
                    </audio>
                    
                    //ACCESS LOGIN BASED GODOWN NAME
                    {
                        string godowncode = string.Empty;
                        if (HttpContext.Current.Session["UserName"].ToString() != "SuperAdmin")
                        {
                            if (Session["LOGINSHOPGODOWNCODEOWGS"] != null)
                            {
                                godowncode = Session["LOGINSHOPGODOWNCODEOWGS"].ToString();

                    <input type="hidden" id="godowncode" value="@godowncode"/>
                                
                    <div style="text-align: right">
                        <label style="font-family: 'Good Times'; font-size: small; color: red">Login At:</label>
                        <label style="font-family: 'Good Times'; font-size: small; color: red">@Session["SHOPGODOWNNAMEOWGS"].ToString()</label>
                    </div>
                            }
                        }
                    }
                    
                    <table style="border: 1px double; width: 100%">
                        <tr>
                            <td>
                                <div class="col-lg-12 col-md-12">

                                    <div class="col-lg-4 col-md-4" style="border-right: 1px solid #999; height: 205px;">
                                        <div class="row">
                                            <div class="col-lg-10 col-md-10">
                                                <div class="row">
                                                    <div style="height: 10px"></div>
                                                    <label>Shop Name<label style="color: red">*</label></label><br />
                                                    @Html.DropDownListFor(model => model.OutwardToShopDetails.ShopName, new SelectList(Model.ShopList, "ShopCode", "ShopName"), "Select Shop Name", new { @class = "form-control", id = "ShopCodeid" })
                                                    @Html.ValidationMessageFor(model => model.OutwardToShopDetails.ShopName, null, new { style = "color:red" })
                                                    <div style="height: 12px"></div>
                                                    <div id="shopdetailsdiv" style="display: none">
                                                        <label>Address: &nbsp;</label><label id="shopadd" style="font-weight: normal"></label><br />
                                                        <label>Email: &nbsp;</label><label id="shopemail" style="font-weight: normal"></label><br />
                                                        <label>Contact-No: &nbsp;</label><label id="shopcontact" style="font-weight: normal"></label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-4 col-md-4" style="border-right: 1px solid #999; height: 205px;">
                                        <div class="row">
                                            <div class="col-lg-10 col-md-10">
                                                <div style="height: 10px"></div>
                                                <label>Salesman Name<label style="color: red">*</label></label><br />
                                                @Html.TextBoxFor(model => model.OutwardToShopDetails.SalesmanName, new { id = "SalesmanName", @placeholder = "Salesman Name", @class = "form-control" })
                                                @Html.ValidationMessageFor(model => model.OutwardToShopDetails.SalesmanName, null, new { style = "color:red" })
                                                <div style="height: 12px"></div>
                                                <div id="salesmandetailsdiv" style="display: none">
                                                    <label>Designation: &nbsp;</label><label id="SalesmanDesignation" style="font-weight: normal"></label><br />
                                                    <label>Contact No: &nbsp;</label><label id="SalesmanMobileNo" style="font-weight: normal"></label><br />
                                                    <label>Email: &nbsp;</label><label id="SalesmanEmail" style="font-weight: normal"></label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="col-lg-4 col-md-4">
                                        <div class="col-md-12 col-lg-12">
                                            @{
                    string date = DateTime.Now.ToString("MM/dd/yyyy");
                    string outwardcode = Model.OutwardToShopDetails.OutwardCode;
                                            }
                                            <div style="height: 10px"></div>
                                            <div class="row">
                                                <div class="col-lg-5 col-md-5">
                                                    <label>Date:</label>
                                                </div>
                                                <div class="col-lg-7 col-md-7">
                                                    <div class="row">
                                                        <label id="date">@date</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div style="height: 7px"></div>
                                            <div class="row">
                                                <div class="col-lg-5 col-md-5">
                                                    <label>Outward No:</label>
                                                </div>
                                                <div class="col-lg-7 col-md-7">
                                                    <div class="row">
                                                        <label>@outwardcode</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div style="height: 7px"></div>
                                            <div class="row">
                                                <div class="col-lg-5 col-md-5">
                                                    <label>Reference No: </label>
                                                </div>
                                                <div class="col-lg-7 col-md-7">
                                                    <div class="row">
                                                        @Html.TextBoxFor(model => model.OutwardToShopDetails.GatePass, new { @class = "form-control", @placeholder = "Reference No", @autocomplete = "off", @readonly = "readonly" })
                                                        @Html.ValidationMessageFor(model => model.OutwardToShopDetails.GatePass, null, new { @style = "color:red" })
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div style="height: 15px"></div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <table class="table" id="DynamicRows" style="border-color: #d2d2d2; border: outset">
                                    <tr>
                                        <th class="col-lg-1 col-md-1">
                                            <label style="text-align: center; width: 100%">S.No.</label></th>
                                        <th class="col-lg-3 col-md-3">
                                            <label style="text-align: center; width: 100%">Item<label style="color: red">*</label></label></th>
                                        <th>
                                            <label style="text-align: center; width: 100%">Description</label></th>
                                        <th>
                                            <label style="text-align: center; width: 100%">Design</label></th>
                                        <th>
                                            <label style="text-align: center; width: 100%">Unit</label></th>
                                        <th>
                                            <label style="text-align: center; width: 100%">Color</label></th>
                                        <th>
                                            <label style="text-align: center; width: 100%">Stock Qty</label></th>
                                        <th class="col-lg-1 col-md-1">
                                            <label style="text-align: center; width: 100%">Outward Qty<label style="color: red">*</label></label></th>
                                        <th>
                                            <label style="text-align: center; width: 100%">Current Bal</label></th>
                                        <th></th>
                                    </tr>
                                    <tr>
                                        <td class="col-lg-1 col-md-1" style="text-align: center">
                                            <label style="font-weight: normal">1</label>
                                        </td>
                                        <td class="col-lg-3 col-md-3" style="text-align: center">
                                            <select id="ItemCode1" name="ItemCode1" class="form-control">
                                                <option value="">Select Item </option>
                                            </select>
                                            <input type="hidden" id="ItemName1" name="ItemName1" />
                                        </td>
                                        <td style="text-align: center">
                                            <label id="Description1" style="font-weight: normal"></label>
                                            <input type="hidden" id="DescriptionValue1" name="DescriptionValue1" />
                                        </td>
                                        <td style="text-align: center">
                                            <label id="Design1" style="font-weight: normal"></label>
                                            <input type="hidden" id="DesignValue1" name="DesignValue1" />
                                            <input type="hidden" id="DesignCode1" name="DesignCode1" />
                                        </td>
                                        <td style="text-align: center">
                                            <label id="Unit1" style="font-weight: normal"></label>
                                            <input type="hidden" id="UnitValue1" name="UnitValue1" />
                                            <input type="hidden" id="NumberType1" name="NumberType1" />
                                        </td>
                                        <td style="text-align: center">
                                            <label id="Color1" style="font-weight: normal"></label>
                                            <input type="hidden" id="ColorValue1" name="ColorValue1" />
                                        </td>
                                        <td class="col-lg-1 col-md-1" style="text-align: center">
                                            <label id="StockQuantity1" style="font-weight: normal"></label>
                                            <input type="hidden" id="StockQuantityValue1" name="StockQuantityValue1" />
                                        </td>
                                        <td class="col-lg-1 col-md-1" style="text-align: center">
                                            <input type="text" class="form-control" style="text-align: center" id="OutwardQuantity1" name="OutwardQuantity1" onchange="CalculateBalance()" disabled="disabled" onkeypress="return AllowNumbers(event)" autocomplete="off" placeholder="QTY" />
                                        </td>
                                        <td style="text-align: center">
                                            <label style="font-weight: normal" id="balance1"></label>
                                            <input type="hidden" id="BalanceValue1" name="BalanceValue1" />
                                            <input type="hidden" id="Barcode1" name="Barcode1" />
                                            <input type="hidden" id="Rate1" name="Rate1" />
                                            <input type="hidden" id="MRP1" name="MRP1" />
                                            <input type="hidden" id="Material1" name="Material1" />
                                            <input type="hidden" id="Size1" name="Size1" />
                                            <input type="hidden" id="Brand1" name="Brand1" />
                                        </td>
                                        <td></td>
                                    </tr>
                                </table>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <table class="table" style="border-color: #d2d2d2; border: outset">
                                    <div style="height: 18px"></div>
                                    <tr>
                                        <td>
                                            <div class="col-md-12 col-lg-12">
                                                <div style="height: 15px"></div>
                                                <div class="col-md-3 col-lg-3">
                                                    <label>Store Keeper Name<i style="color: red">*</i></label><br />
                                                    @Html.TextBoxFor(model => model.OutwardToShopDetails.EmpName, new { id = "EmpName", @placeholder = "Store Keeper Name", @class = "form-control" })
                                                    @Html.ValidationMessageFor(model => model.OutwardToShopDetails.EmpName, null, new { style = "color:red" })
                                                </div>
                                                <div class="col-md-4 col-lg-4">
                                                    <label>Designation</label><br />
                                                    <label id="Designation" style="font-weight: normal"></label>
                                                </div>
                                                <div class="col-md-3 col-lg-3">
                                                    <label>Email-Id</label><br />
                                                    <label id="Email" style="font-weight: normal"></label>
                                                </div>
                                                <div class="col-md-2 col-lg-2">
                                                    <label>Contact No.</label><br />
                                                    <label id="MobileNo" style="font-weight: normal"></label>
                                                </div>
                                                <div style="height: 70px"></div>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <div class="col-md-12 col-lg-12">
                                    <div style="height: 15px"></div>
                                    <div class="col-md-3 col-lg-3">
                                        <label>Prepare By</label><br />
                                        <label id="name" style="font-weight: normal"></label>
                                    </div>
                                    <div class="col-md-4 col-lg-4">
                                        <label>Email-Id</label><br />
                                        <label id="emailid" style="font-weight: normal"></label>
                                    </div>
                                    <div class="col-md-3 col-lg-3">
                                        <label>Designation</label><br />
                                        <label id="designation" style="font-weight: normal"></label>
                                    </div>
                                    @{
                    string preparetimeid = DateTime.Now.ToShortTimeString();
                                    }
                                    <div class="col-md-2 col-lg-2">
                                        <label>Prepare Time</label><br />
                                        <label style="font-weight: normal">@preparetimeid</label>
                                    </div>
                                    <div style="height: 70px"></div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <div class="col-md-12 col-lg-12">
                                    <div style="height: 9px"></div>
                                    <div class="col-lg-3 col-md-3">
                                        <label>Narration</label>
                                    </div>
                                    <div class="col-lg-9 col-md-9">
                                        @Html.TextBoxFor(model => model.OutwardToShopDetails.Narration, new { @class = "form-control", @placeholder = "Narration", @autocomplete = "off" })
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr style="height: 10px">
                            <td></td>
                        </tr>
                    </table>
                    <div style="height: 5px"></div>
                    <div class="col-md-9 col-lg-9">
                        <button type="submit" id="Submit" class="col-lg-offset-7 col-md-offset-7 btn btn-success">Save</button>
                    </div>
                    <div class="col-lg-3 col-md-3" style="text-align: right">
                        <div style="height: 10px"></div>
                        <button type="button" id="Delete" class="btn btn-danger" data-toggle="tooltip" title="Delete"><i class="fa fa-trash" title="Delete"></i></button>
                        <button type="button" id="Print" class="btn btn-primary" data-toggle="tooltip" title="Print"><i class="fa fa-print" title="Print"></i></button>
                    </div>
                }
            </div>
        </div>
    </div>
</section>
