@model CodeFirstEntities.MainApplication
@{
    ViewBag.Title = "Update";
}

<script src="@Url.Content("~/Scripts/jquery-1.9.1.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery-1.9.1.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery-ui-1.8.24.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery-ui-1.8.24.min.js")" type="text/javascript"></script>

<script type="text/javascript">
    function MasterValidation() {
        document.getElementById("Submit").style.display = 'inline';
        document.getElementById("MasterModules").style.display = 'inline';
        document.getElementById("CashierModules").style.display = 'none';
        document.getElementById("PurchaseModules").style.display = 'none';
        document.getElementById("InventoryModules").style.display = 'none';
        document.getElementById("PointOfSaleModules").style.display = 'none';
        document.getElementById("RequisitionModules").style.display = 'none';
        document.getElementById("MISReportsModules").style.display = 'none';
        document.getElementById("JobWorkModules").style.display = 'none';
        document.getElementById("ShopGodownModules").style.display = 'none';
    }

    function CashierValidation() {
        document.getElementById("Submit").style.display = 'inline';
        document.getElementById("MasterModules").style.display = 'none';
        document.getElementById("CashierModules").style.display = 'inline';
        document.getElementById("PurchaseModules").style.display = 'none';
        document.getElementById("InventoryModules").style.display = 'none';
        document.getElementById("PointOfSaleModules").style.display = 'none';
        document.getElementById("RequisitionModules").style.display = 'none';
        document.getElementById("MISReportsModules").style.display = 'none';
        document.getElementById("JobWorkModules").style.display = 'none';
        document.getElementById("ShopGodownModules").style.display = 'none';
    }

    function PurchaseValidation() {
        document.getElementById("Submit").style.display = 'inline';
        document.getElementById("MasterModules").style.display = 'none';
        document.getElementById("CashierModules").style.display = 'none';
        document.getElementById("PurchaseModules").style.display = 'inline';
        document.getElementById("InventoryModules").style.display = 'none';
        document.getElementById("PointOfSaleModules").style.display = 'none';
        document.getElementById("RequisitionModules").style.display = 'none';
        document.getElementById("MISReportsModules").style.display = 'none';
        document.getElementById("JobWorkModules").style.display = 'none';
        document.getElementById("ShopGodownModules").style.display = 'none';
    }

    function InventoryValidation() {
        document.getElementById("Submit").style.display = 'inline';
        document.getElementById("MasterModules").style.display = 'none';
        document.getElementById("CashierModules").style.display = 'none';
        document.getElementById("PurchaseModules").style.display = 'none';
        document.getElementById("InventoryModules").style.display = 'inline';
        document.getElementById("PointOfSaleModules").style.display = 'none';
        document.getElementById("RequisitionModules").style.display = 'none';
        document.getElementById("MISReportsModules").style.display = 'none';
        document.getElementById("JobWorkModules").style.display = 'none';
        document.getElementById("ShopGodownModules").style.display = 'none';
    }

    function POSValidation() {
        document.getElementById("Submit").style.display = 'inline';
        document.getElementById("MasterModules").style.display = 'none';
        document.getElementById("CashierModules").style.display = 'none';
        document.getElementById("PurchaseModules").style.display = 'none';
        document.getElementById("InventoryModules").style.display = 'none';
        document.getElementById("PointOfSaleModules").style.display = 'inline';
        document.getElementById("RequisitionModules").style.display = 'none';
        document.getElementById("MISReportsModules").style.display = 'none';
        document.getElementById("JobWorkModules").style.display = 'none';
        document.getElementById("ShopGodownModules").style.display = 'none';
    }

    function RequisitionValidation() {
        document.getElementById("Submit").style.display = 'inline';
        document.getElementById("MasterModules").style.display = 'none';
        document.getElementById("CashierModules").style.display = 'none';
        document.getElementById("PurchaseModules").style.display = 'none';
        document.getElementById("InventoryModules").style.display = 'none';
        document.getElementById("PointOfSaleModules").style.display = 'none';
        document.getElementById("RequisitionModules").style.display = 'inline';
        document.getElementById("MISReportsModules").style.display = 'none';
        document.getElementById("JobWorkModules").style.display = 'none';
        document.getElementById("ShopGodownModules").style.display = 'none';
    }

    function MISValidation() {
        document.getElementById("Submit").style.display = 'inline';
        document.getElementById("MasterModules").style.display = 'none';
        document.getElementById("CashierModules").style.display = 'none';
        document.getElementById("PurchaseModules").style.display = 'none';
        document.getElementById("InventoryModules").style.display = 'none';
        document.getElementById("PointOfSaleModules").style.display = 'none';
        document.getElementById("RequisitionModules").style.display = 'none';
        document.getElementById("MISReportsModules").style.display = 'inline';
        document.getElementById("JobWorkModules").style.display = 'none';
        document.getElementById("ShopGodownModules").style.display = 'none';
    }

    function JobWorkValidation() {
        document.getElementById("Submit").style.display = 'inline';
        document.getElementById("MasterModules").style.display = 'none';
        document.getElementById("CashierModules").style.display = 'none';
        document.getElementById("PurchaseModules").style.display = 'none';
        document.getElementById("InventoryModules").style.display = 'none';
        document.getElementById("PointOfSaleModules").style.display = 'none';
        document.getElementById("RequisitionModules").style.display = 'none';
        document.getElementById("MISReportsModules").style.display = 'none';
        document.getElementById("JobWorkModules").style.display = 'inline';
        document.getElementById("ShopGodownModules").style.display = 'none';
    }

    function ShopGodownValidation() {
        document.getElementById("Submit").style.display = 'inline';
        document.getElementById("MasterModules").style.display = 'none';
        document.getElementById("CashierModules").style.display = 'none';
        document.getElementById("PurchaseModules").style.display = 'none';
        document.getElementById("InventoryModules").style.display = 'none';
        document.getElementById("PointOfSaleModules").style.display = 'none';
        document.getElementById("RequisitionModules").style.display = 'none';
        document.getElementById("MISReportsModules").style.display = 'none';
        document.getElementById("JobWorkModules").style.display = 'none';
        document.getElementById("ShopGodownModules").style.display = 'inline';
    }
</script>

<script type="text/javascript">
    function updatePermissions() {
        var moduleName = "";
        var moduleStatus = "";
        var finalRights = "";
        var finalStatus = "";
        var iconname = "";
        var email = document.getElementById("ddlEmpNames").value;
        var modulelistcount = (+document.getElementById("Modulelist").value);
        for (var i = 1; i <= modulelistcount; i++) {
            var module = "module" + i;
            var moduleRights = "moduleRights" + i;
            var icons = "icons" + i;
            //alert(document.getElementById(module).value);
            var moduleTempName = document.getElementById(module).value;
            var moduleRightsTemp = document.getElementById(moduleRights).value;
            var iconTemp = document.getElementById(icons).value;
            moduleName = moduleName + moduleTempName + "$";
            finalRights = finalRights + moduleRightsTemp + "$";
            iconname = iconname + iconTemp + "$";

            var status = moduleTempName + i;
            var tempStatus = document.getElementsByName(status);

            for (var j = 0; j < tempStatus.length; j++) {
                if (tempStatus[j].checked) {
                    finalStatus = finalStatus + tempStatus[j].value + ",";
                }
            }
            moduleStatus = moduleStatus + finalStatus + "$";
            finalStatus = "";            
        }
        $.ajax({
            url: '/User/updatePermissions',
            type: "POST",
            data: {
                moduleName: moduleName,
                moduleStatus: moduleStatus,
                email: email,
                finalRights: finalRights,
                iconname: iconname,
            },
            success: function (data) {
                window.open("/User/UserRights", "_self");
            }
        });
    }
</script>



@Html.HiddenFor(model => model.EmployeeDetails.Designation)
<input type="hidden" id="Modulelist" value="@Model.modulelist.Count()" />

<div class="col-lg-12 col-md-12">
    <div class="row">
        <button data-toggle="collapse" data-target="#MasterModules" class="btn btn-danger btn-sm" onclick="MasterValidation()">Masters</button>
        <button data-toggle="collapse" data-target="#CashierModules" class="btn btn-danger btn-sm" onclick="CashierValidation()">Cashier</button>
        <button data-toggle="collapse" data-target="#PurchaseModules" class="btn btn-danger btn-sm" onclick="PurchaseValidation()">Purchase</button>
        <button data-toggle="collapse" data-target="#InventoryModules" class="btn btn-danger btn-sm" onclick="InventoryValidation()">Inventory</button>
        <button data-toggle="collapse" data-target="#PointOfSaleModules" class="btn btn-danger btn-sm" onclick="POSValidation()">Point Of Sale</button>
        <button data-toggle="collapse" data-target="#RequisitionModules" class="btn btn-danger btn-sm" onclick="RequisitionValidation()">Requisition</button>
        <button data-toggle="collapse" data-target="#MISReportsModules" class="btn btn-danger btn-sm" onclick="MISValidation()">MIS Reports</button>
        <button data-toggle="collapse" data-target="#JobWorkModules" class="btn btn-danger btn-sm" onclick="JobWorkValidation()">Job Work</button>
        <button data-toggle="collapse" data-target="#ShopGodownModules" class="btn btn-danger btn-sm" onclick="ShopGodownValidation()">Shop/Godown</button>
    </div>
</div>

<div class="col-lg-12 col-md-12">
    <div style="height: 10px"></div>
</div>

@{
    var mastersstartassignid = 0;
    var mastersendassignid = 0;

    var cashierstartassignid = 0;
    var cashierendassignid = 0;

    var Purchasestartassignid = 0;
    var Purchaseendassignid = 0;

    var Inventorystartassignid = 0;
    var Inventoryendassignid = 0;

    var PointOfSalestartassignid = 0;
    var PointOfSaleendassignid = 0;

    var Requisitionstartassignid = 0;
    var Requisitionendassignid = 0;

    var MISstartassignid = 0;
    var MISendassignid = 0;

    var JobWorkstartassignid = 0;
    var JobWorkendassignid = 0;

    var ShopGodownstartassignid = 0;
    var ShopGodownendassignid = 0;
}

@{
    var startassignid = Convert.ToInt32(Session["EmpDynamicStartIndex"]);
    var DynamicShopGodownRange = Convert.ToInt32(Session["DynamicShopGodownRange"]);
}

<div id="MasterModules" class="collapse">
    <table border="1">
        @{
            int id = 1;
            foreach (var item1 in Model.UpdatedUserCredentailList)
            {
                mastersstartassignid = startassignid;
                mastersendassignid = startassignid + 19;
                if (item1.AssignId >= mastersstartassignid && item1.AssignId <= mastersendassignid)
                {

                    string AddId = item1.Modules + "Add" + id;
                    string EditId = item1.Modules + " Edit" + id;
                    string DeleteId = item1.Modules + "Delete" + id;
                    string name = item1.Modules + id;
                    string namevalue = "name" + id;
                    string module = "module" + id;
                    string moduleRights = "moduleRights" + id;
                    string icons = "icons" + id;
                    string AssignDashboardId = "DashboardId" + id;
            <tr>
                <td class="col-lg-1">
                    <label id="">@item1.Modules</label>
                    <input type="hidden" id="@module" value="@item1.Modules" />
                    <input type="hidden" id="@moduleRights" value="@item1.ModuleRights" />
                    <input type="hidden" id="@icons" value="@item1.Icon" />
                    <input type="hidden" id="@AssignDashboardId" value="@item1.AssignDashboardId" />
                </td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Add"))
                    {
                        <input type="checkbox" name="@name" value="add"
                                         @if (item1.Status.Contains("add"))
                                         {
                                            @:checked ="checked"

                                         }
                                          id="@AddId" /><label>Add</label>}</td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Edit"))
                    {
                        <input type="checkbox" name="@name" value="edit"
                                         @if (item1.Status.Contains("edit"))
                                         {
                                            @:checked ="checked"
                                         }
                                          id="@EditId" /><label>Edit</label>}</td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Delete"))
                    {
                        <input type="checkbox" name="@name" value="delete" 
                                         @if (item1.Status.Contains("delete"))
                                         {
                                            @:checked ="checked"
                                         }
                                         id="@DeleteId" /><label>Delete</label>}<br />
                </td>
            </tr>
                    
                }
                id++;
            }
        }
    </table>
</div>


<div id="CashierModules" class="collapse">
    <table border="1">
        @{
            id = 21;
            foreach (var item1 in Model.UpdatedUserCredentailList)
            {

                cashierstartassignid = startassignid + 20;
                cashierendassignid = startassignid + 26;
                if (item1.AssignId >= cashierstartassignid && item1.AssignId <= cashierendassignid)
                {

                    string AddId = item1.Modules + "Add" + id;
                    string EditId = item1.Modules + " Edit" + id;
                    string DeleteId = item1.Modules + "Delete" + id;
                    string name = item1.Modules + id;
                    string namevalue = "name" + id;
                    string module = "module" + id;
                    string moduleRights = "moduleRights" + id;
                    string icons = "icons" + id;
                    string AssignDashboardId = "DashboardId" + id;
            <tr>
                <td class="col-lg-1">
                    <label id="">@item1.Modules</label>
                    <input type="hidden" id="@module" value="@item1.Modules" />
                    <input type="hidden" id="@moduleRights" value="@item1.ModuleRights" />
                    <input type="hidden" id="@icons" value="@item1.Icon" />
                    <input type="hidden" id="@AssignDashboardId" value="@item1.AssignDashboardId" />
                </td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Add"))
                    {
                        <input type="checkbox" name="@name" value="add"
                                         @if (item1.Status.Contains("add"))
                                         {
                                            @:checked ="checked"

                                         }
                                          id="@AddId" /><label>Add</label>}</td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Edit"))
                    {
                        <input type="checkbox" name="@name" value="edit"
                                         @if (item1.Status.Contains("edit"))
                                         {
                                            @:checked ="checked"
                                         }
                                          id="@EditId" /><label>Edit</label>}</td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Delete"))
                    {
                        <input type="checkbox" name="@name" value="delete" 
                                         @if (item1.Status.Contains("delete"))
                                         {
                                            @:checked ="checked"
                                         }
                                         id="@DeleteId" /><label>Delete</label>}<br />
                </td>
            </tr>
                    id++;
                }

            }
        }
    </table>
</div>


<div id="PurchaseModules" class="collapse">
    <table border="1">
        @{
            id = 27;
            foreach (var item1 in Model.UpdatedUserCredentailList)
            {
                Purchasestartassignid = startassignid + 26;
                Purchaseendassignid = startassignid + 28;
                if (item1.AssignId >= Purchasestartassignid && item1.AssignId <= Purchaseendassignid)
                {

                    string AddId = item1.Modules + "Add" + id;
                    string EditId = item1.Modules + " Edit" + id;
                    string DeleteId = item1.Modules + "Delete" + id;
                    string name = item1.Modules + id;
                    string namevalue = "name" + id;
                    string module = "module" + id;
                    string moduleRights = "moduleRights" + id;
                    string icons = "icons" + id;
                    string AssignDashboardId = "DashboardId" + id;
            <tr>
                <td class="col-lg-1">
                    <label id="">@item1.Modules</label>
                    <input type="hidden" id="@module" value="@item1.Modules" />
                    <input type="hidden" id="@moduleRights" value="@item1.ModuleRights" />
                    <input type="hidden" id="@icons" value="@item1.Icon" />
                    <input type="hidden" id="@AssignDashboardId" value="@item1.AssignDashboardId" />
                </td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Add"))
                    {
                        <input type="checkbox" name="@name" value="add"
                                         @if (item1.Status.Contains("add"))
                                         {
                                            @:checked ="checked"

                                         }
                                          id="@AddId" /><label>Add</label>}</td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Edit"))
                    {
                        <input type="checkbox" name="@name" value="edit"
                                         @if (item1.Status.Contains("edit"))
                                         {
                                            @:checked ="checked"
                                         }
                                          id="@EditId" /><label>Edit</label>}</td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Delete"))
                    {
                        <input type="checkbox" name="@name" value="delete" 
                                         @if (item1.Status.Contains("delete"))
                                         {
                                            @:checked ="checked"
                                         }
                                         id="@DeleteId" /><label>Delete</label>}<br />
                </td>
            </tr>
                    id++;
                }
            }
        }
    </table>
</div>



<div id="InventoryModules" class="collapse">
    <table border="1">
        @{
            id = 30;
            foreach (var item1 in Model.UpdatedUserCredentailList)
            {

                Inventorystartassignid = startassignid + 29;
                Inventoryendassignid = startassignid + 44;
                if (item1.AssignId >= Inventorystartassignid && item1.AssignId <= Inventoryendassignid)
                {

                    string AddId = item1.Modules + "Add" + id;
                    string EditId = item1.Modules + " Edit" + id;
                    string DeleteId = item1.Modules + "Delete" + id;
                    string name = item1.Modules + id;
                    string namevalue = "name" + id;
                    string module = "module" + id;
                    string moduleRights = "moduleRights" + id;
                    string icons = "icons" + id;
                    string AssignDashboardId = "DashboardId" + id;
            <tr>
                <td class="col-lg-1">
                    <label id="">@item1.Modules</label>
                    <input type="hidden" id="@module" value="@item1.Modules" />
                    <input type="hidden" id="@moduleRights" value="@item1.ModuleRights" />
                    <input type="hidden" id="@icons" value="@item1.Icon" />
                    <input type="hidden" id="@AssignDashboardId" value="@item1.AssignDashboardId" />
                </td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Add"))
                    {
                        <input type="checkbox" name="@name" value="add"
                                         @if (item1.Status.Contains("add"))
                                         {
                                            @:checked ="checked"

                                         }
                                          id="@AddId" /><label>Add</label>}</td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Edit"))
                    {
                        <input type="checkbox" name="@name" value="edit"
                                         @if (item1.Status.Contains("edit"))
                                         {
                                            @:checked ="checked"
                                         }
                                          id="@EditId" /><label>Edit</label>}</td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Delete"))
                    {
                        <input type="checkbox" name="@name" value="delete" 
                                         @if (item1.Status.Contains("delete"))
                                         {
                                            @:checked ="checked"
                                         }
                                         id="@DeleteId" /><label>Delete</label>}<br />
                </td>
            </tr>
                    id++;
                }
            }
        }
    </table>
</div>


<div id="PointOfSaleModules" class="collapse">
    <table border="1">
        @{
            id = 46;
            foreach (var item1 in Model.UpdatedUserCredentailList)
            {

                PointOfSalestartassignid = startassignid + 45;
                PointOfSaleendassignid = startassignid + 52;
                if (item1.AssignId >= PointOfSalestartassignid && item1.AssignId <= PointOfSaleendassignid)
                {

                    string AddId = item1.Modules + "Add" + id;
                    string EditId = item1.Modules + " Edit" + id;
                    string DeleteId = item1.Modules + "Delete" + id;
                    string name = item1.Modules + id;
                    string namevalue = "name" + id;
                    string module = "module" + id;
                    string moduleRights = "moduleRights" + id;
                    string icons = "icons" + id;
                    string AssignDashboardId = "DashboardId" + id;
            <tr>
                <td class="col-lg-1">
                    <label id="">@item1.Modules</label>
                    <input type="hidden" id="@module" value="@item1.Modules" />
                    <input type="hidden" id="@moduleRights" value="@item1.ModuleRights" />
                    <input type="hidden" id="@icons" value="@item1.Icon" />
                    <input type="hidden" id="@AssignDashboardId" value="@item1.AssignDashboardId" />
                </td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Add"))
                    {
                        <input type="checkbox" name="@name" value="add"
                                         @if (item1.Status.Contains("add"))
                                         {
                                            @:checked ="checked"

                                         }
                                          id="@AddId" /><label>Add</label>}</td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Edit"))
                    {
                        <input type="checkbox" name="@name" value="edit"
                                         @if (item1.Status.Contains("edit"))
                                         {
                                            @:checked ="checked"
                                         }
                                          id="@EditId" /><label>Edit</label>}</td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Delete"))
                    {
                        <input type="checkbox" name="@name" value="delete" 
                                         @if (item1.Status.Contains("delete"))
                                         {
                                            @:checked ="checked"
                                         }
                                         id="@DeleteId" /><label>Delete</label>}<br />
                </td>
            </tr>
                    id++;
                }
            }
        }
    </table>
</div>



<div id="RequisitionModules" class="collapse">
    <table border="1">
        @{
            id = 54;
            foreach (var item1 in Model.UpdatedUserCredentailList)
            {

                Requisitionstartassignid = startassignid + 53;
                Requisitionendassignid = startassignid + 56;
                if (item1.AssignId >= Requisitionstartassignid && item1.AssignId <= Requisitionendassignid)
                {

                    string AddId = item1.Modules + "Add" + id;
                    string EditId = item1.Modules + " Edit" + id;
                    string DeleteId = item1.Modules + "Delete" + id;
                    string name = item1.Modules + id;
                    string namevalue = "name" + id;
                    string module = "module" + id;
                    string moduleRights = "moduleRights" + id;
                    string icons = "icons" + id;
                    string AssignDashboardId = "DashboardId" + id;
            <tr>
                <td class="col-lg-1">
                    <label id="">@item1.Modules</label>
                    <input type="hidden" id="@module" value="@item1.Modules" />
                    <input type="hidden" id="@moduleRights" value="@item1.ModuleRights" />
                    <input type="hidden" id="@icons" value="@item1.Icon" />
                    <input type="hidden" id="@AssignDashboardId" value="@item1.AssignDashboardId" />
                </td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Add"))
                    {
                        <input type="checkbox" name="@name" value="add"
                                         @if (item1.Status.Contains("add"))
                                         {
                                            @:checked ="checked"

                                         }
                                          id="@AddId" /><label>Add</label>}</td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Edit"))
                    {
                        <input type="checkbox" name="@name" value="edit"
                                         @if (item1.Status.Contains("edit"))
                                         {
                                            @:checked ="checked"
                                         }
                                          id="@EditId" /><label>Edit</label>}</td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Delete"))
                    {
                        <input type="checkbox" name="@name" value="delete" 
                                         @if (item1.Status.Contains("delete"))
                                         {
                                            @:checked ="checked"
                                         }
                                         id="@DeleteId" /><label>Delete</label>}<br />
                </td>
            </tr>
                    id++;
                }
            }
        }
    </table>
</div>

<div id="MISReportsModules" class="collapse">
    <table border="1">
        @{
            id = 58;
            foreach (var item1 in Model.UpdatedUserCredentailList)
            {

                MISstartassignid = startassignid + 57;
                MISendassignid = startassignid + 86;
                if (item1.AssignId >= MISstartassignid && item1.AssignId <= MISendassignid)
                {

                    string AddId = item1.Modules + "Add" + id;
                    string EditId = item1.Modules + " Edit" + id;
                    string DeleteId = item1.Modules + "Delete" + id;
                    string name = item1.Modules + id;
                    string namevalue = "name" + id;
                    string module = "module" + id;
                    string moduleRights = "moduleRights" + id;
                    string icons = "icons" + id;
                    string AssignDashboardId = "DashboardId" + id;
            <tr>
                <td class="col-lg-1">
                    <label id="">@item1.Modules</label>
                    <input type="hidden" id="@module" value="@item1.Modules" />
                    <input type="hidden" id="@moduleRights" value="@item1.ModuleRights" />
                    <input type="hidden" id="@icons" value="@item1.Icon" />
                    <input type="hidden" id="@AssignDashboardId" value="@item1.AssignDashboardId" />
                </td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Add"))
                    {
                        <input type="checkbox" name="@name" value="add"
                                         @if (item1.Status.Contains("add"))
                                         {
                                            @:checked ="checked"

                                         }
                                          id="@AddId" /><label>Add</label>}</td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Edit"))
                    {
                        <input type="checkbox" name="@name" value="edit"
                                         @if (item1.Status.Contains("edit"))
                                         {
                                            @:checked ="checked"
                                         }
                                          id="@EditId" /><label>Edit</label>}</td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Delete"))
                    {
                        <input type="checkbox" name="@name" value="delete" 
                                         @if (item1.Status.Contains("delete"))
                                         {
                                            @:checked ="checked"
                                         }
                                         id="@DeleteId" /><label>Delete</label>}<br />
                </td>
            </tr>
                    id++;
                }
            }
        }
    </table>
</div>


<div id="JobWorkModules" class="collapse">
    <table border="1">
        @{
            id = 88;
            foreach (var item1 in Model.UpdatedUserCredentailList)
            {

                JobWorkstartassignid = startassignid + 87;
                JobWorkendassignid = startassignid + 94;
                if (item1.AssignId >= JobWorkstartassignid && item1.AssignId <= JobWorkendassignid)
                {

                    string AddId = item1.Modules + "Add" + id;
                    string EditId = item1.Modules + " Edit" + id;
                    string DeleteId = item1.Modules + "Delete" + id;
                    string name = item1.Modules + id;
                    string namevalue = "name" + id;
                    string module = "module" + id;
                    string moduleRights = "moduleRights" + id;
                    string icons = "icons" + id;
                    string AssignDashboardId = "DashboardId" + id;
            <tr>
                <td class="col-lg-1">
                    <label id="">@item1.Modules</label>
                    <input type="hidden" id="@module" value="@item1.Modules" />
                    <input type="hidden" id="@moduleRights" value="@item1.ModuleRights" />
                    <input type="hidden" id="@icons" value="@item1.Icon" />
                    <input type="hidden" id="@AssignDashboardId" value="@item1.AssignDashboardId" />
                </td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Add"))
                    {
                        <input type="checkbox" name="@name" value="add"
                                         @if (item1.Status.Contains("add"))
                                         {
                                            @:checked ="checked"

                                         }
                                          id="@AddId" /><label>Add</label>}</td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Edit"))
                    {
                        <input type="checkbox" name="@name" value="edit"
                                         @if (item1.Status.Contains("edit"))
                                         {
                                            @:checked ="checked"
                                         }
                                          id="@EditId" /><label>Edit</label>}</td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Delete"))
                    {
                        <input type="checkbox" name="@name" value="delete" 
                                         @if (item1.Status.Contains("delete"))
                                         {
                                            @:checked ="checked"
                                         }
                                         id="@DeleteId" /><label>Delete</label>}<br />
                </td>
            </tr>
                    id++;
                }
            }
        }
    </table>
</div>


<div id="ShopGodownModules" class="collapse">
    <table border="1">
        @{
            id = 96;
            foreach (var item1 in Model.UpdatedUserCredentailList)
            {

                ShopGodownstartassignid = startassignid + 95;
                ShopGodownendassignid = startassignid + 95 + DynamicShopGodownRange;
                if (item1.AssignId >= ShopGodownstartassignid && item1.AssignId <= ShopGodownendassignid)
                {

                    string AddId = item1.Modules + "Add" + id;
                    string EditId = item1.Modules + " Edit" + id;
                    string DeleteId = item1.Modules + "Delete" + id;
                    string name = item1.Modules + id;
                    string namevalue = "name" + id;
                    string module = "module" + id;
                    string moduleRights = "moduleRights" + id;
                    string icons = "icons" + id;
                    string AssignDashboardId = "DashboardId" + id;
            <tr>
                <td class="col-lg-1">
                    <label id="">@item1.Modules</label>
                    <input type="hidden" id="@module" value="@item1.Modules" />
                    <input type="hidden" id="@moduleRights" value="@item1.ModuleRights" />
                    <input type="hidden" id="@icons" value="@item1.Icon" />
                    <input type="hidden" id="@AssignDashboardId" value="@item1.AssignDashboardId" />
                </td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Add"))
                    {
                        <input type="checkbox" name="@name" value="add"
                                         @if (item1.Status.Contains("add"))
                                         {
                                            @:checked ="checked"

                                         }
                                          id="@AddId" /><label>Add</label>}</td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Edit"))
                    {
                        <input type="checkbox" name="@name" value="edit"
                                         @if (item1.Status.Contains("edit"))
                                         {
                                            @:checked ="checked"
                                         }
                                          id="@EditId" /><label>Edit</label>}</td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Delete"))
                    {
                        <input type="checkbox" name="@name" value="delete" 
                                         @if (item1.Status.Contains("delete"))
                                         {
                                            @:checked ="checked"
                                         }
                                         id="@DeleteId" /><label>Delete</label>}<br />
                </td>
            </tr>
                    id++;
                }
            }
        }
    </table>
</div>

<div class="col-lg-12 col-md-12">
    <div style="height: 10px"></div>
</div>

<div class="row">
    <button type="button" class="btn btn-success col-lg-offset-6 col-md-offset-6" id="Submit" onclick="updatePermissions();" style="display: none">Update</button>
</div>




























@*@model CodeFirstEntities.MainApplication
@{
    ViewBag.Title = "Update";
}


<script src="@Url.Content("~/Scripts/jquery-1.9.1.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery-1.9.1.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery-ui-1.8.24.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery-ui-1.8.24.min.js")" type="text/javascript"></script>


<script type="text/javascript">
    function updatePermissions() {
        var moduleName = "";
        var moduleStatus = "";
        var finalRights = "";
        var finalStatus = "";
        var iconname = "";
        var email = document.getElementById("ddlEmpNames").value;
        var modulelistcount = (+document.getElementById("Modulelist").value);
        for (var i = 1; i <= modulelistcount; i++) {
            var module = "module" + i;
            var moduleRights = "moduleRights" + i;
            var icons = "icons" + i;
            var moduleTempName = document.getElementById(module).value;
            var moduleRightsTemp = document.getElementById(moduleRights).value;
            var iconTemp = document.getElementById(icons).value;
            moduleName = moduleName + moduleTempName + "$";
            finalRights = finalRights + moduleRightsTemp + "$";
            iconname = iconname + iconTemp + "$";

            var status = moduleTempName + i;
            var tempStatus = document.getElementsByName(status);

            for (var j = 0; j < tempStatus.length; j++) {
                if (tempStatus[j].checked) {
                    finalStatus = finalStatus + tempStatus[j].value + ",";
                }
            }
            moduleStatus = moduleStatus + finalStatus + "$";
            finalStatus = "";
        }
        $.ajax({
            url: '/User/updatePermissions',
            type: "POST",
            data: {
                moduleName: moduleName,
                moduleStatus: moduleStatus,
                email: email,
                finalRights: finalRights,
                iconname: iconname,
            },
            success: function (data) {
                window.open("/User/UserRights", "_self");
            }
        });
    }
</script>

@if (Model.UpdatedUserCredentailList != null && Model.UpdatedUserCredentailList.Any())
{
    var item2 = Model.modulelist;
    <input type="hidden" id="Modulelist" value="@Model.modulelist.Count()" />
    @Html.HiddenFor(model => model.EmployeeDetails.Designation)          
    <table border="1">
        @{
    int id = 1;
    foreach (var item1 in Model.UpdatedUserCredentailList)
    {

        string AddId = item1.Modules + "Add" + id;
        string EditId = item1.Modules + " Edit" + id;
        string DeleteId = item1.Modules + "Delete" + id;
        string name = item1.Modules + id;
        string namevalue = "name" + id;
        string module = "module" + id;
        string moduleRights = "moduleRights" + id;
        string icons = "icons" + id;
            <tr>
                <td class="col-lg-1">
                    <label id="">@item1.Modules</label>
                    <input type="hidden" id="@module" value="@item1.Modules" />
                    <input type="hidden" id="@moduleRights" value="@item1.ModuleRights" />
                    <input type="hidden" id="@icons" value="@item1.Icon" />
                </td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Add"))
                    {
                        <input type="checkbox" name="@name" value="add"
                                         @if (item1.Status.Contains("add"))
                                         {
                                            @:checked ="checked"

                                         }
                                          id="@AddId" /><label>Add</label>}</td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Edit"))
                    {
                        <input type="checkbox" name="@name" value="edit"
                                         @if (item1.Status.Contains("edit"))
                                         {
                                            @:checked ="checked"
                                         }
                                          id="@EditId" /><label>Edit</label>}</td>
                <td class="col-lg-1">
                    @if (item1.ModuleRights.Contains("Delete"))
                    {
                        <input type="checkbox" name="@name" value="delete" 
                                         @if (item1.Status.Contains("delete"))
                                         {
                                            @:checked ="checked"
                                         }
                                         id="@DeleteId" /><label>Delete</label>}<br />
                </td>
            </tr>
                    id++;
    }
        }
    </table>
}
<br />
<div class="row">
    <button type="button" class="btn btn-success col-lg-offset-6 col-md-offset-6" id="Submit" onclick="updatePermissions();">Update</button>
</div>*@
